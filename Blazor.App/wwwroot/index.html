<!DOCTYPE html>
<!--suppress ALL -->
<html class="no-js">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width">
    <title>Blazor</title>
    <base href="/"/>

    <link href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700,700i" rel="stylesheet">
    <link href="lib/foundation-sites/css/app.css" rel="stylesheet"/>
    <link href="lib/font-awesome/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="lib/spinkit/spinkit.css" rel="stylesheet"/>
    
    <script src="lib/plotly.js/plotly.min.js"></script>
    <script src="lib/plotly.js/plotly-locale-ru.js"></script>
    <script>Plotly.setPlotConfig({locale: 'ru'})</script>



</head>
<body>
<app>Loading...</app>

<script src="_framework/blazor.server.js"></script>




<script>
    window.plotlyhelpers = {
        react: function (id, obj) {
            Plotly.react(id, obj);
            return true;
        },
        
        purge: function (id) {
            Plotly.purge(id);
            return true;
        },

        downloadImage: function(id) {
            // TODO название файла из заголовка графика, если заголовок задан
            Plotly.downloadImage(id, {format: 'png', width: 1800, height: 900, filename: 'График'});
            return true;
        }
    };
    
    window.global = {
        getCurrentLocation: function () {
            console.log(window.location);
            return window.location.href;
        },
        
        // Инициализация плагонов Foundation, в которых используется JS
        // Вызывать в методе OnAfterRenderAsync()
        foundationInit: function()
        {
            $(document).foundation();
            return true;
        },
        
        foundationIdInit: function(id, command)
        {
            $(id).foundation(command);
            return true;
        }
    }
</script>


<script src="lib/jquery/jquery.min.js"></script>
<script src="lib/foundation-sites/js/foundation.min.js"></script>
<script>
    $(document).foundation();
</script>

</body>
</html>
