<!DOCTYPE html>
<!--suppress ALL -->
<html class="no-js">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width">
    <title>Blazor</title>
    <base href="/"/>
    <!--<link href="css/site.css" rel="stylesheet"/>-->
    <link href="foundation/css/foundation.css" rel="stylesheet"/>

    <script src="plotly.js/plotly.min.js"></script>
    
    <style>
        html {
            font-size: 80%;
        }
    </style>

</head>
<body>
<app>Loading...</app>

<script src="_framework/blazor.server.js"></script>




<script>
    window.plotlyhelpers = {
        react: function (id, obj) {
            Plotly.react(id, obj);
            return true;
        },
        
        purge: function (id) {
            Plotly.purge(id);
            return true;
        },

        downloadImage: function(id) {
            // TODO название файла из заголовка графика, если заголовок задан
            Plotly.downloadImage(id, {format: 'png', width: 1800, height: 900, filename: 'График'});
            return true;
        } 
    };
    
    window.global = {
        getCurrentLocation: function () {
            console.log(window.location);
            return window.location.href;
        },
        
        // Инициализация плагонов Foundation, в которых используется JS
        // Вызывать в методе OnAfterRenderAsync()
        foundationInit: function()
        {
            $(document).foundation();
            return true;
        }
    }
</script>


<script src="jquery/jquery.min.js"></script>
<script src="foundation/js/foundation.min.js"></script>
<script>
    $(document).foundation();
</script>

</body>
</html>
